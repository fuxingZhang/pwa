<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>pwa</title>
</head>
<body>
  <script>
    // 1
    window.addEventListener('beforeinstallprompt', event => {
      event.userChoice.then(result => {
        if(result.outcome == 'dismissed') {
          console.log('dismissed')
        } else {
          console.log('accept')
        }
      })

      // 禁止添加到主屏幕
      event.preventDefault()
      return false
    })  

    // 2
    navigator.storage.estimate('temporary').then(info => {
      console.log(info.quota) // 总存储空间，以字节为单位
      console.log(info.usage) // 已使用空间，以字节为单位
    })

  </script>
</body>
</html>